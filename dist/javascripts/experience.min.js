/*!
NICE Experience 0.2.12 | 2017-05-12
© Copyright NICE 2015-2017
Licensed under MIT (https://github.com/nhsevidence/nice-experience/blob/master/LICENSE)
*/

!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("experience",[],t):"object"==typeof exports?exports.experience=t():e.experience=t()}(this,function(){return function(e){function t(a){if(n[a])return n[a].exports;var r=n[a]={exports:{},id:a,loaded:!1};return e[a].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n={};return t.m=e,t.c=n,t.p="/javascripts/",t(0)}([function(e,exports,t){e.exports=t(4)},function(e,exports){"use strict";function t(){return a}Object.defineProperty(exports,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};exports.getPlugins=t;var a=[];exports.default=function(e,t){a.push({name:e,pluginClass:t});var r="__"+e,o=$.fn[e];$.fn[e]=function(e){var a=this,o=arguments;if(void 0===e||"object"===("undefined"==typeof e?"undefined":n(e)))return this.each(function(n,a){$.data(a,r)||$.data(a,r,new t(a,e))});if("string"==typeof e&&"_"!==e[0]&&"init"!==e){var i,u=function(){var n=e,u=Array.prototype.slice.call(o,1);return 0==u.length&&/^get.+$/.test(n)?a.length>1?($.error("Cannot call a getter '"+n+"' on a collection of elements"),{v:void 0}):(i=$.data(a[0],r),{v:i[n].apply(i)}):{v:a.each(function(){var e=$.data(this,r);e instanceof t&&"function"==typeof e[n]?e[n].apply(e,u):$.error("Method '"+n+"' could not be found")})}}();if("object"===("undefined"==typeof u?"undefined":n(u)))return u.v}},t.defaults&&"function"==typeof t.defaults&&($.fn[e].defaults=t.defaults()),$.fn[e].noConflict=function(){return $.fn[e]=o}}},function(e,exports){"use strict";function t(e){e||$.error("Instance must be non-null"),e.$el||$.error("Instance.$el must be non-null"),e.events&&"function"==typeof e.events||$.error("Instance.events must be a function");var t=e.events();if(!t)return e;for(var n in t){var a=t[n];"function"!=typeof a&&(a=e[a]),a||$.error("Method could not be found");var i=n.match(r),u=i[1],s=i[2];e.$el.on(u+"."+o,s,$.proxy(a,e))}return e}function n(e){return e||$.error("Instance must be non-null"),e.$el||$.error("Instance.$el must be non-null"),e.$el.off("."+o),e}function a(e){e.prototype.delegate=function(){return a.delegate.call(this,this)},e.prototype.undelegate=function(){return a.undelegate.call(this,this)}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.delegate=t,exports.undelegate=n;var r=/^(\S+)\s*(.*)$/,o="delegateEvents";a.delegate=t,a.undelegate=n,exports.default=a},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=t(7),u=n(i),s=t(1),l=n(s),c=t(2),f=n(c),d={tabClass:"tabs__tab",tabActiveClass:"tabs__tab--active",tabButtonClass:"tabs__tab-btn",tabPaneClass:"tabs__pane",tabPaneActiveClass:"tabs__pane--active"},p=function(e){return function(){return"tabs-"+ ++e}}(0),v=function(){function e(t,n){var a=this;if(r(this,e),!t)throw new Error("Element must be non-null");this.el=t,this.$el=$(t),this.options=$.extend({},e.defaults(),n),this._getTabs().each(function(e,t){var n=p(),r=p();$(t).find("."+a.options.tabButtonClass).prop("id",n).attr("aria-controls",r),a._getTabPanes().eq(e).prop("id",r).attr("aria-labelledby",n)}),this.delegate(),this.activate(0,!1)}return o(e,null,[{key:"defaults",value:function(){return d}}]),o(e,[{key:"events",value:function(){var e;return e={},a(e,"click ."+this.options.tabButtonClass,"_handleTabBtnClick"),a(e,"keydown ."+this.options.tabButtonClass,"_handleTabBtnKeydown"),a(e,"keydown ."+this.options.tabPaneClass,"_handlePaneKeydown"),e}},{key:"getCurrentIndex",value:function(){return this._getTabs().filter("."+this.options.tabActiveClass).index()}},{key:"activate",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this._getTabs().removeClass(this.options.tabActiveClass).find("."+this.options.tabButtonClass).attr("aria-expanded",!1).attr("aria-selected",!1).end().eq(e).addClass(this.options.tabActiveClass).find("."+this.options.tabButtonClass).attr("aria-expanded",!0).attr("aria-selected",!0);return t===!0&&n.focus(),this._getTabPanes().removeClass(this.options.tabPaneActiveClass).attr("aria-hidden",!0).eq(e).addClass(this.options.tabPaneActiveClass).attr("aria-hidden",!1),this.getCurrentIndex()}},{key:"next",value:function(){var e=this.getCurrentIndex();return e===this._getTabs().length-1?this.first():this.activate(e+1)}},{key:"previous",value:function(){var e=this.getCurrentIndex();return 0===e?this.last():this.activate(e-1)}},{key:"first",value:function(){return this.activate(0)}},{key:"last",value:function(){return this.activate(this._getTabs().length-1)}},{key:"_getTabs",value:function(){return $("."+this.options.tabClass,this.$el)}},{key:"_getTabPanes",value:function(){return $("."+this.options.tabPaneClass,this.$el)}},{key:"_handleTabBtnClick",value:function(e){e.preventDefault();var t=$(e.currentTarget).closest("."+this.options.tabClass).index();this.activate(t)}},{key:"_handleTabBtnKeydown",value:function(e){switch((0,u.default)(e.which)){case"left":case"up":e.preventDefault(),e.stopPropagation(),this.previous();break;case"right":case"down":e.preventDefault(),e.stopPropagation(),this.next();break;case"home":e.preventDefault(),e.stopPropagation(),this.first();break;case"end":e.preventDefault(),e.stopPropagation(),this.last();break;case"enter":case"space":e.preventDefault(),e.stopPropagation(),this.activate($(e.currentTarget).closest("."+this.options.tabClass).index())}}},{key:"_handlePaneKeydown",value:function(e){if($.inArray((0,u.default)(e.which),["up","left"])>-1&&e.ctrlKey){e.preventDefault(),e.stopPropagation();var t=$(e.currentTarget).attr("aria-labelledby");$("#"+t).focus()}}}]),e}();exports.default=v,(0,f.default)(v),(0,l.default)("tabs",v)},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.eventr=exports.pluginizr=exports.pluginAutoLoader=exports.Tracker=exports.Tabs=exports.default=void 0;var a=t(5),r=n(a),o=t(3),i=n(o),u=t(6),s=n(u),l=t(1),c=n(l),f=t(2),d=n(f),p={init:function(e){r.default.load(t(8)),r.default.load(t(9)),r.default.findPlugins(e)},Tabs:i.default,Tracker:s.default,pluginAutoLoader:r.default,pluginizr:c.default,eventr:d.default};$.fn.experience=function(){p.init(this)},window.NICE=window.NICE||{},window.NICE.experience=p,exports.default=p,exports.Tabs=i.default,exports.Tracker=s.default,exports.pluginAutoLoader=r.default,exports.pluginizr=c.default,exports.eventr=d.default},function(e,exports,t){"use strict";function n(e){e.keys().filter(function(e){return"./experience.js"!==e}).map(i).map(function(t){return u(t,e)}).filter(function(e){return e.name in $.fn})}function a(e){(0,r.getPlugins)().forEach(function(t){$("[data-"+t.name+"]",e||$(document)).each(function(e,n){var a,r=$(n);[].forEach.call(n.attributes,function(e){var n=e.name.match(new RegExp("^data-("+t.name+"-.+)"));if(n&&2===n.length){var o=$.camelCase(n[1]),i=$.camelCase(n[1].replace(t.name+"-",""));a=a||{},a[i]=r.data(o)}}),$(n)[t.name](a)})})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.load=n,exports.findPlugins=a;var r=t(1),o=/([^\/.]*)\.js$/i,i=function(e){return{key:e,name:e.match(o,"")[1]}},u=function(e,t){return t(e.key),e};exports.default={load:n,findPlugins:a}},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(){return window.dataLayer&&"function"==typeof window.dataLayer.push?b:window._gaq&&"function"==typeof window._gaq.push?y:"function"==typeof window.ga?g:""}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=arguments[3],r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(o()==b)return u(e,t,n,a,r);if(o()==g)return s(e,t,n,a,r,i);if(o()==y)return l(e,t,n,a,r,i);var c="No tracking library available",f=new Error(c);return"function"==typeof r&&r(f),Promise.reject(f)}function u(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;if(o()!==b)return new Promise(function(e,t){var n="Google Tag Manager is not available";"function"==typeof r&&r(n),t(n)});var i={event:"event",eventCategory:e,eventAction:t,eventLabel:n};return a&&(i.eventValue=a),new Promise(function(e){i.eventCallback=function(){"function"==typeof r&&r(),e()},window.dataLayer.push(i)})}function s(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;return o()!==g?new Promise(function(e,t){var n="Universal Analytics is not available";"function"==typeof r&&r(n),t(n)}):new Promise(function(o){var i=function(){"function"==typeof r&&r(),o()};window.ga("send",{hitType:"event",eventCategory:e,eventAction:t,eventLabel:n,eventValue:a,hitCallback:i})})}function l(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;return o()!==y?new Promise(function(e,t){var n="Classic Analytics is not available";"function"==typeof r&&r(n),t(n)}):new Promise(function(o){var i=function(){"function"==typeof r&&r(),o()};window._gaq.push(["_set","hitCallback",i]),window._gaq.push(["_trackEvent",e,t,n,a])})}Object.defineProperty(exports,"__esModule",{value:!0});var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();exports.trackingLibrary=o,exports.sendEvent=i,exports.sendDataLayerEvent=u,exports.sendUniversalEvent=s,exports.sendClassicEvent=l;var f=t(1),d=n(f),p=t(2),v=n(p),h={trackSelectors:["a[data-track]","button[data-track]","[type='submit'][data-track]","[type='reset'][data-track]","[type='image'][data-track]","[data-track] a","[data-track] button",".tophat a"]},b="TagManager",y="Classic",g="Universal",m=function(){function e(t,n){if(r(this,e),!t)throw new Error("Element must be non-null");this.el=t,this.$el=$(t),this.options=$.extend({},e.defaults(),n),this.delegate()}return c(e,null,[{key:"defaults",value:function(){return h}}]),c(e,[{key:"events",value:function(){return a({},"click.tracker "+this.options.trackSelectors.join(","),"_handleTrack")}},{key:"_handleTrack",value:function(e){var t=$(e.currentTarget),n=t.data("track-category")||"",a=t.data("track-action")||"",r=t.data("track-label")||"",o=t.data("track-value");i(n,a,r,o)}}]),e}();exports.default=m,m.sendEvent=i,m.sendDataLayerEvent=u,m.sendUniversalEvent=s,m.sendClassicEvent=l,(0,v.default)(m),(0,d.default)("tracker",m)},function(e,exports){exports=e.exports=function(e){if(e&&"object"==typeof e){var a=e.which||e.keyCode||e.charCode;a&&(e=a)}if("number"==typeof e)return r[e];var o=String(e),i=t[o.toLowerCase()];if(i)return i;var i=n[o.toLowerCase()];return i?i:1===o.length?o.charCodeAt(0):void 0};var t=exports.code=exports.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},n=exports.aliases={windows:91,"⇧":16,"⌥":18,"⌃":17,"⌘":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91};/*!
	 * Programatically add the following
	 */
for(a=97;a<123;a++)t[String.fromCharCode(a)]=a-32;for(var a=48;a<58;a++)t[a-48]=a;for(a=1;a<13;a++)t["f"+a]=a+111;for(a=0;a<10;a++)t["numpad "+a]=a+96;var r=exports.names=exports.title={};for(a in t)r[t[a]]=a;for(var o in n)t[o]=n[o]},function(e,exports,t){function n(e){return t(a(e))}function a(e){return r[e]||function(){throw new Error("Cannot find module '"+e+"'.")}()}var r={"./tabs/tabs.js":3};n.keys=function(){return Object.keys(r)},n.resolve=a,e.exports=n,n.id=8},function(e,exports,t){function n(e){return t(a(e))}function a(e){return r[e]||function(){throw new Error("Cannot find module '"+e+"'.")}()}var r={"./eventr.js":2,"./experience.js":4,"./plugin-autoloader.js":5,"./pluginizr.js":1,"./tracker.js":6};n.keys=function(){return Object.keys(r)},n.resolve=a,e.exports=n,n.id=9}])});
//# sourceMappingURL=experience.min.map